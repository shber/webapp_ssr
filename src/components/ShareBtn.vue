<!--
 * @Author: Shber
 * @Date: 2022-10-09 15:06:12
 * @LastEditors: Shber
 * @LastEditTime: 2022-10-27 16:19:40
 * @Description:
-->
<template>
  <Popup position="bottom" :show="popupShow">
    <div class="share_btn_info">
      <div @click="toggleClick('wecaht')">
        <i class="svg svg_wechat" />
        <span>分享微信好友</span>
      </div>
      <div @click="toggleClick('moments')">
        <i class="svg svg_moments" />
        <span>分享朋友圈</span>
      </div>
    </div>
    <div class="cancel_btn" @click="popupCancel">取消</div>
  </Popup>
</template>
<script>
import { reactive, watch, toRefs, defineComponent } from 'vue'
import { Popup } from 'vant'

export default defineComponent({
  name: 'ShareBtn',
  components: { Popup },
  props: {
    show: {
      type: Boolean,
      default: false
    }
  },
  emits: ['onSelect', 'onCancel'],
  setup(props, context) {
    const state = reactive({
      popupShow: true
    })
    watch(
      props, (newVal, oldVal)  => {
        state.popupShow = props.show
      },{
        immediate:true
      }
    )
    const toggleClick = (item) => {
      context.emit('onSelect', item)
    }
    const popupCancel = () => {
      state.popupShow = false
      context.emit('onCancel', false)
    }
    return {
      ...toRefs(state),
      toggleClick,
      popupCancel
    }
  }
})
</script>
<style lang="scss" scoped>
    .svg_wechat{
      width: 48px; height: 48px;
      background-image: url("data:image/svg+xml,%3Csvg width='49' height='49' viewBox='0 0 49 49' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect opacity='0.01' x='0.999931' y='0.517212' width='48' height='47.868' fill='black'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M24.0445 0.517212C10.7755 0.517212 -7.62939e-06 11.1941 -7.62939e-06 24.4512C-7.62939e-06 37.7083 10.7755 48.3852 24.0445 48.3852C37.3135 48.3852 48 37.7083 48 24.4512C48 11.1941 37.3135 0.517212 24.0445 0.517212ZM16.6219 29.6123C17.697 29.8462 18.6633 30.0565 19.7699 30.0565H19.7702C20.1263 30.0565 20.4824 30.0565 20.8385 29.8785C20.5714 29.1667 20.4823 28.4549 20.4823 27.7432C20.4823 23.2945 24.3117 19.6466 29.2096 19.6466C29.3877 19.6466 29.5435 19.6688 29.6994 19.691L29.6994 19.691C29.8552 19.7133 30.0111 19.7355 30.1892 19.7355C29.2987 15.5537 24.935 12.5286 19.859 12.5286C14.2486 12.5286 9.61779 16.3545 9.61779 21.2481C9.61779 24.0953 11.1317 26.4086 13.7143 28.1881L12.6456 31.3021L16.2078 29.5227C16.3476 29.5526 16.4861 29.5827 16.6219 29.6123ZM35.7105 36.2847L34.909 33.7045C37.0464 32.1029 38.5603 30.0565 38.5603 27.8322C38.5603 23.6504 34.4638 20.3584 29.833 20.3584C24.935 20.3584 21.1057 23.7393 21.1057 27.8322C21.1057 31.925 24.935 35.217 29.833 35.217C30.8249 35.217 31.7401 34.987 32.7209 34.7406L32.9499 34.6832L35.7105 36.2847ZM23.5991 19.6466C22.7977 19.6466 22.1743 19.0238 22.1743 18.223C22.1743 17.4223 22.7977 16.7995 23.5992 16.7995C24.4006 16.7995 25.024 17.4223 25.024 18.223C25.024 19.0238 24.4006 19.6466 23.5991 19.6466ZM14.961 18.2231C14.961 19.0238 15.5844 19.6466 16.3858 19.6466C17.1873 19.6466 17.8107 19.0238 17.8107 18.2231C17.8107 17.4223 17.1873 16.7995 16.3859 16.7995C15.5844 16.7995 14.961 17.4223 14.961 18.223V18.2231ZM26.0036 25.6964C26.0036 26.3193 26.538 26.8531 27.1613 26.8531C27.7847 26.8531 28.3191 26.3193 28.3191 25.6964C28.3191 25.0736 27.7847 24.5398 27.1613 24.5398C26.538 24.4508 26.0037 24.9847 26.0037 25.6964H26.0036ZM31.7031 25.6965C31.7031 26.3193 32.2374 26.8531 32.8608 26.8531C33.4842 26.8531 34.0185 26.3193 34.0185 25.6964C34.0185 25.0736 33.4842 24.5398 32.8608 24.5398C32.2374 24.4508 31.7031 24.9847 31.7031 25.6964V25.6965Z' fill='%23C99700'/%3E %3C/svg%3E ");
    }
    .svg_moments{
      width: 48px; height: 48px;
      background-image: url("data:image/svg+xml,%3Csvg width='48' height='49' viewBox='0 0 48 49' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect opacity='0.01' x='-1.52588e-05' y='0.517212' width='48' height='47.868' fill='black'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M-1.52588e-05 24.4512C-1.52588e-05 37.6696 10.7451 48.3852 24 48.3852C37.2548 48.3852 48 37.6696 48 24.4512C48 11.2328 37.2548 0.517212 24 0.517212C10.7451 0.517212 -1.52588e-05 11.2328 -1.52588e-05 24.4512ZM24.0201 10.9883C23.51 10.9885 23.0004 11.0184 22.4938 11.0779C21.2679 11.2157 20.0928 11.5201 18.9881 11.962C18.9881 11.962 28.0967 20.9189 28.3392 21.2519V11.7002C28.0678 11.6084 27.7905 11.5257 27.5109 11.4488C26.3983 11.1514 25.2277 10.9884 24.0202 10.9884L24.0201 10.9883ZM33.5343 14.8796C33.1691 14.5168 32.7866 14.1814 32.3915 13.8705C31.4434 13.1215 30.3982 12.5035 29.2844 12.0333C29.2844 12.0333 29.3514 24.763 29.2844 25.1695L36.0833 18.4148C35.9549 18.158 35.8185 17.9053 35.6742 17.657C35.0976 16.665 34.3882 15.7269 33.5343 14.8796L33.5343 14.8796ZM27.17 28.7656C27.5074 28.5245 36.5189 19.4747 36.5189 19.4747C36.973 20.5896 37.2724 21.7613 37.4086 22.957C37.4676 23.4542 37.5 23.9605 37.5 24.4737C37.5 25.6747 37.3358 26.8344 37.0354 27.9424C36.9593 28.2202 36.8759 28.4958 36.7836 28.7656H27.17ZM23.15 29.7717L29.9488 36.5264C30.2077 36.3991 30.4624 36.2635 30.7126 36.1199C31.711 35.5492 32.6539 34.8432 33.5089 33.9936C33.8728 33.6318 34.2092 33.2506 34.5234 32.8581C35.2894 31.898 35.9077 30.859 36.3721 29.7705C36.3721 29.7705 23.5603 29.8372 23.15 29.7717ZM19.6617 37.2021V27.6494C19.881 27.9525 27.3434 35.298 28.7747 36.7068L28.7751 36.7072C28.927 36.8567 29.0108 36.9392 29.0107 36.9392C27.8874 37.3904 26.7082 37.6882 25.505 37.8245C25.0058 37.8819 24.4962 37.914 23.981 37.914C22.7723 37.914 21.6041 37.751 20.4901 37.4525C20.2115 37.3777 19.9352 37.2942 19.6617 37.2021ZM18.705 23.6653L18.7049 23.6653L18.7049 23.6653H18.705ZM18.7049 23.6653L11.9084 30.4199C12.0356 30.6783 12.1731 30.9309 12.3175 31.1788C12.8919 32.1732 13.6024 33.1101 14.4575 33.9586C14.8214 34.3215 15.2051 34.6555 15.6002 34.9667C16.5672 35.7304 17.6108 36.3423 18.7085 36.8037C18.7085 36.8037 18.6392 24.0742 18.7049 23.6653ZM10.5 24.4347C10.5 23.2337 10.664 22.0729 10.9633 20.966C11.0397 20.6881 11.1228 20.4114 11.2153 20.1428H20.83C20.4926 20.3828 11.4822 29.4327 11.4822 29.4327C11.0338 28.3373 10.73 27.1696 10.5913 25.9503C10.5324 25.4542 10.5 24.9467 10.5 24.4347ZM17.2226 12.8341C16.222 13.4059 15.2791 14.1121 14.4262 14.9594C14.0588 15.3234 13.7237 15.7046 13.4106 16.0948C12.6433 17.0549 12.0263 18.0951 11.5608 19.1847C11.5608 19.1847 24.3749 19.1169 24.784 19.1824L17.9862 12.4277C17.7275 12.5562 17.4721 12.6906 17.2226 12.8342V12.8341Z' fill='%23C99700'/%3E %3C/svg%3E ");
    }
    .share_btn_info{
      padding-top: 30px;
      min-height: 120px;
      display: flex;
      justify-content: space-around;
      div{
        display: flex;
        flex-direction: column;
        align-items: center;
        span{margin-top: 10px; font-size: 16px; line-height: 22px; color: #333;}
      }
    }
    .cancel_btn{
      line-height: 44px; line-height: 44px;
      padding-bottom: 34px; border-top: 0.5px solid #EEEEEE; text-align: center;
      font-size: 16px; color: #999; font-weight: 500;
    }
</style>
